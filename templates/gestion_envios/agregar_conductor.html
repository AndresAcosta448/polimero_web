<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Agregar Conductor</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='agregar_conductor.css') }}">
</head>
<body>
  <div class="d-flex">
    {% include 'sidebar.html' %}
    <div class="flex-fill">
      {% include 'navbar_admin.html' %}

      <div class="container-form">
        <div class="form-card">
          <h1>Agregar Conductor</h1>

          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              <ul class="flash-list">
                {% for category, msg in messages %}
                  <li class="{{ category }}">{{ msg }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          {% endwith %}

          <form action="{{ url_for('agregar_conductor_route') }}" method="POST">
            <!-- Nombre -->
            <label for="nombre">Nombre:</label>
            <input
              type="text"
              name="nombre"
              id="nombre"
              required
              minlength="2"
              maxlength="20"
              pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ\s]{2,20}"
              placeholder="Nombre"
              oninvalid="this.setCustomValidity('Debe ingresar un nombre de 2 a 20 letras')"
              oninput="this.setCustomValidity('')"
            >

            <!-- Cédula -->
            <label for="cedula">Cédula:</label>
            <input
              type="text"
              name="cedula"
              id="cedula"
              required
              pattern="\d{10}"
              placeholder="Cédula (10 dígitos)"
              oninvalid="this.setCustomValidity('La cédula debe tener exactamente 10 números')"
              oninput="this.setCustomValidity('')"
            >

            <!-- Teléfono -->
            <label for="telefono">Teléfono:</label>
            <input
              type="text"
              name="telefono"
              id="telefono"
              required
              pattern="\d{7,10}"
              placeholder="Teléfono (7 a 10 dígitos)"
              oninvalid="this.setCustomValidity('El teléfono debe tener entre 7 y 10 números')"
              oninput="this.setCustomValidity('')"
            >

            <button type="submit" class="btn-gestionar-admins">Guardar Conductor</button>
          </form>

          <hr>
<h2>Eliminar Conductor</h2>
<form action="{{ url_for('eliminar_conductor_route') }}" method="POST">
  <label for="conductor_id">Selecciona un conductor:</label>
  <select name="conductor_id" id="conductor_id" required class="form-select">
    <option value="" disabled selected>-- Elige uno --</option>
    {% for c in conductores %}
      <option value="{{ c.id }}">{{ c.nombre }} – {{ c.cedula }}</option>
    {% endfor %}
  </select>
  <button type="submit" class="btn-eliminar mt-3">Eliminar</button>
</form>




        </div>
      </div>
    </div>
  </div>
</body>
</html>
